import{a as n,l as v}from"./index-CYFIV7Ul.js";import{r as c,s as b,e as l,f as s,H as e,F as p,I as g,g as y,o as r,J as f,h as x,w as D,i as w}from"./vendor-D1ADADCB.js";import"./ui-D_DTyfBr.js";const k={class:"dashboard"},C={class:"row mb-4"},N={class:"col-md-3"},T={class:"card text-white bg-primary"},V={class:"card-body"},B={class:"card-text display-6"},F={class:"col-md-3"},M={class:"card text-white bg-success"},R={class:"card-body"},S={class:"card-text display-6"},A={class:"col-md-3"},E={class:"card text-white bg-warning"},I={class:"card-body"},L={class:"card-text display-6"},P={class:"col-md-3"},$={class:"card text-white bg-info"},z={class:"card-body"},H={class:"card-text display-6"},J={class:"card"},j={class:"card-body"},q={class:"table table-hover"},U={__name:"Dashboard",setup(G){const d=c({}),i=c([]),u=async()=>{try{const[a,t]=await Promise.all([n.get("/deliveries/dashboard_stats/"),n.get("/deliveries/?limit=5")]);d.value=a.data,i.value=t.data.results}catch(a){v.error("Failed to fetch dashboard data"),console.error("Dashboard error:",a)}},_=a=>a?new Date(a).toLocaleDateString():"N/A",h=a=>({pending:"secondary",assigned:"info",picked_up:"primary",in_transit:"warning",delivered:"success",failed:"danger",cancelled:"dark"})[a]||"secondary";return b(()=>{u()}),(a,t)=>{const m=y("router-link");return r(),l("div",k,[t[7]||(t[7]=s("h1",{class:"h2 mb-4"},"Dashboard",-1)),s("div",C,[s("div",N,[s("div",T,[s("div",V,[t[0]||(t[0]=s("h5",{class:"card-title"},"Total Deliveries",-1)),s("p",B,e(d.value.total||0),1)])])]),s("div",F,[s("div",M,[s("div",R,[t[1]||(t[1]=s("h5",{class:"card-title"},"Delivered",-1)),s("p",S,e(d.value.delivered||0),1)])])]),s("div",A,[s("div",E,[s("div",I,[t[2]||(t[2]=s("h5",{class:"card-title"},"In Transit",-1)),s("p",L,e(d.value.in_transit||0),1)])])]),s("div",P,[s("div",$,[s("div",z,[t[3]||(t[3]=s("h5",{class:"card-title"},"Pending",-1)),s("p",H,e(d.value.pending||0),1)])])])]),s("div",J,[t[6]||(t[6]=s("div",{class:"card-header"},[s("h5",{class:"mb-0"},"Recent Deliveries")],-1)),s("div",j,[s("table",q,[t[5]||(t[5]=s("thead",null,[s("tr",null,[s("th",null,"Tracking #"),s("th",null,"Customer"),s("th",null,"Status"),s("th",null,"Estimated Delivery"),s("th",null,"Actions")])],-1)),s("tbody",null,[(r(!0),l(p,null,g(i.value,o=>(r(),l("tr",{key:o.id},[s("td",null,e(o.tracking_number),1),s("td",null,e(o.customer?.name),1),s("td",null,[s("span",{class:f(`badge bg-${h(o.status)}`)},e(o.status),3)]),s("td",null,e(_(o.estimated_delivery)),1),s("td",null,[x(m,{to:`/deliveries/${o.id}`,class:"btn btn-sm btn-outline-primary"},{default:D(()=>[...t[4]||(t[4]=[w(" View ",-1)])]),_:1},8,["to"])])]))),128))])])])])])}}};export{U as default};

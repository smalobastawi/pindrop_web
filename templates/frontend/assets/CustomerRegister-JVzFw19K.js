import{r as u,l as g,e as d,f as e,C as y,k as p,D as a,E as l,H as _,i as f,h as P,w as h,g as x,u as V,o as n}from"./vendor-D1ADADCB.js";import{c as k}from"./customers-CdfIX3NW.js";import{_ as R,l as v}from"./index-CYFIV7Ul.js";import"./ui-D_DTyfBr.js";const C={class:"container mt-5"},q={class:"row justify-content-center"},U={class:"col-md-8 col-lg-6"},N={class:"card shadow"},B={class:"card-body"},D={class:"row"},E={class:"col-md-12 mb-3"},S={class:"row"},A={class:"col-md-6 mb-3"},I={class:"col-md-6 mb-3"},M={class:"mb-3"},T={class:"mb-3"},Y={class:"mb-3"},j={key:0,class:"alert alert-danger"},F={class:"d-grid"},G=["disabled"],H={key:0,class:"spinner-border spinner-border-sm me-2"},L={key:1,class:"text-center"},z={__name:"CustomerRegister",setup(J){V();const i=u(!1),c=u(!1),t=u(""),o=g({name:"",email:"",phone:"",address:"",password:"",confirmPassword:""}),b=async()=>{if(t.value="",o.password!==o.confirmPassword){t.value="Passwords do not match";return}if(o.password.length<6){t.value="Password must be at least 6 characters long";return}i.value=!0;try{(await k.register({name:o.name,email:o.email,phone:o.phone,address:o.address,password:o.password})).data.message&&(c.value=!0,v.success("Registration successful!"))}catch(m){t.value=m.response?.data?.error||"Registration failed. Please try again.",v.error(t.value)}finally{i.value=!1}};return(m,s)=>{const w=x("router-link");return n(),d("div",C,[e("div",q,[e("div",U,[e("div",N,[s[15]||(s[15]=e("div",{class:"card-header bg-primary text-white"},[e("h4",{class:"mb-0"},"Customer Registration")],-1)),e("div",B,[c.value?(n(),d("div",L,[s[14]||(s[14]=e("div",{class:"alert alert-success"},[e("h5",null,"Registration Successful!"),e("p",null,"Your account has been created. You can now log in to access your customer portal.")],-1)),P(w,{to:"/customer-login",class:"btn btn-primary"},{default:h(()=>[...s[13]||(s[13]=[f(" Go to Login ",-1)])]),_:1})])):(n(),d("form",{key:0,onSubmit:y(b,["prevent"])},[e("div",D,[e("div",E,[s[6]||(s[6]=e("label",{for:"name",class:"form-label"},"Full Name *",-1)),a(e("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":s[0]||(s[0]=r=>o.name=r),required:""},null,512),[[l,o.name]])])]),e("div",S,[e("div",A,[s[7]||(s[7]=e("label",{for:"email",class:"form-label"},"Email *",-1)),a(e("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":s[1]||(s[1]=r=>o.email=r),required:""},null,512),[[l,o.email]])]),e("div",I,[s[8]||(s[8]=e("label",{for:"phone",class:"form-label"},"Phone *",-1)),a(e("input",{type:"tel",class:"form-control",id:"phone","onUpdate:modelValue":s[2]||(s[2]=r=>o.phone=r),required:""},null,512),[[l,o.phone]])])]),e("div",M,[s[9]||(s[9]=e("label",{for:"address",class:"form-label"},"Address *",-1)),a(e("textarea",{class:"form-control",id:"address",rows:"3","onUpdate:modelValue":s[3]||(s[3]=r=>o.address=r),required:""},null,512),[[l,o.address]])]),e("div",T,[s[10]||(s[10]=e("label",{for:"password",class:"form-label"},"Password *",-1)),a(e("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":s[4]||(s[4]=r=>o.password=r),required:""},null,512),[[l,o.password]])]),e("div",Y,[s[11]||(s[11]=e("label",{for:"confirmPassword",class:"form-label"},"Confirm Password *",-1)),a(e("input",{type:"password",class:"form-control",id:"confirmPassword","onUpdate:modelValue":s[5]||(s[5]=r=>o.confirmPassword=r),required:""},null,512),[[l,o.confirmPassword]])]),t.value?(n(),d("div",j,_(t.value),1)):p("",!0),e("div",F,[e("button",{type:"submit",class:"btn btn-primary",disabled:i.value},[i.value?(n(),d("span",H)):p("",!0),s[12]||(s[12]=f(" Register ",-1))],8,G)])],32))])])])])])}}},X=R(z,[["__scopeId","data-v-444db10b"]]);export{X as default};

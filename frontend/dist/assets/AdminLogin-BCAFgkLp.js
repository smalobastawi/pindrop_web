import{e as t,f as s,C as w,k as c,D as v,E as m,G as y,H as k,I as x,i as b,J as E,r as d,b as P,s as h,u as A,o as u}from"./vendor-CbvXNS-i.js";import{useAdminAuthStore as L}from"./adminAuth-DjiH6aaA.js";import{_ as M}from"./index--w8yyAH4.js";import"./ui-D_DTyfBr.js";const V={name:"AdminLogin",setup(){const p=A(),o=L(),r=d({username:"",password:"",rememberMe:!1}),e=d(!1),i=d(!1),l=d(""),n=P(()=>r.value.username.trim()&&r.value.password.trim()),g=async()=>{if(n.value){i.value=!0,l.value="";try{await o.login({username:r.value.username,password:r.value.password}),p.push("/admin")}catch{l.value=o.error||"Login failed. Please try again."}finally{i.value=!1}}},f=a=>{a.key==="Enter"&&n.value&&g()};return h(()=>{o.logout(),document.addEventListener("keypress",f);const a=document.getElementById("username");return a&&a.focus(),()=>{document.removeEventListener("keypress",f)}}),{form:r,showPassword:e,loading:i,error:l,isFormValid:n,handleLogin:g}}},S={class:"admin-login"},_={class:"login-container"},C={class:"login-form-container"},I={key:0,class:"error-message"},B={class:"form-group"},D={class:"input-wrapper"},F=["disabled"],N={class:"form-group"},U={class:"input-wrapper"},R=["type","disabled"],q=["disabled"],T={class:"form-options"},z={class:"checkbox-wrapper"},G=["disabled"],H=["disabled"],J={key:0,class:"loading-spinner"};function K(p,o,r,e,i,l){return u(),t("div",S,[s("div",_,[o[16]||(o[16]=s("div",{class:"login-header"},[s("div",{class:"logo"},[s("h1",null,"RiderApp Admin"),s("p",null,"Administrator Portal")])],-1)),s("div",C,[s("form",{onSubmit:o[4]||(o[4]=w((...n)=>e.handleLogin&&e.handleLogin(...n),["prevent"])),class:"login-form"},[o[13]||(o[13]=s("h2",null,"Sign In",-1)),o[14]||(o[14]=s("p",{class:"login-subtitle"},"Enter your credentials to access the admin panel",-1)),e.error?(u(),t("div",I,[o[5]||(o[5]=s("i",{class:"icon-alert-circle"},null,-1)),s("span",null,v(e.error),1)])):c("",!0),s("div",B,[o[7]||(o[7]=s("label",{for:"username"},"Username or Email",-1)),s("div",D,[o[6]||(o[6]=s("i",{class:"icon-user"},null,-1)),m(s("input",{id:"username","onUpdate:modelValue":o[0]||(o[0]=n=>e.form.username=n),type:"text",placeholder:"Enter your username or email",required:"",disabled:e.loading},null,8,F),[[y,e.form.username]])])]),s("div",N,[o[9]||(o[9]=s("label",{for:"password"},"Password",-1)),s("div",U,[o[8]||(o[8]=s("i",{class:"icon-lock"},null,-1)),m(s("input",{id:"password","onUpdate:modelValue":o[1]||(o[1]=n=>e.form.password=n),type:e.showPassword?"text":"password",placeholder:"Enter your password",required:"",disabled:e.loading},null,8,R),[[k,e.form.password]]),s("button",{type:"button",class:"password-toggle",onClick:o[2]||(o[2]=n=>e.showPassword=!e.showPassword),disabled:e.loading},[s("i",{class:x(e.showPassword?"icon-eye-off":"icon-eye")},null,2)],8,q)])]),s("div",T,[s("label",z,[m(s("input",{"onUpdate:modelValue":o[3]||(o[3]=n=>e.form.rememberMe=n),type:"checkbox",disabled:e.loading},null,8,G),[[E,e.form.rememberMe]]),o[10]||(o[10]=s("span",{class:"checkmark"},null,-1)),o[11]||(o[11]=b(" Remember me ",-1))]),o[12]||(o[12]=s("a",{href:"#",class:"forgot-password"},"Forgot password?",-1))]),s("button",{type:"submit",class:"login-button",disabled:e.loading||!e.isFormValid},[e.loading?(u(),t("span",J)):c("",!0),s("span",null,v(e.loading?"Signing in...":"Sign In"),1)],8,H),o[15]||(o[15]=s("div",{class:"login-footer"},[s("p",null,[b("Need access? "),s("a",{href:"mailto:admin@pindrop.com"},"Contact administrator")])],-1))],32)]),o[17]||(o[17]=s("div",{class:"login-background"},[s("div",{class:"background-pattern"})],-1))])])}const X=M(V,[["render",K],["__scopeId","data-v-ecbcc9cd"]]);export{X as default};

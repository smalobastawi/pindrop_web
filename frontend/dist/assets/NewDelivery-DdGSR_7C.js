import{s as w,u as D,r as v,e as m,f as l,i as u,w as g,g as U,h as k,K as x,L as t,N as r,M as a,P as S,j as p,H as C,F as N,o as y}from"./vendor-CVqOb0XR.js";import{_ as P,b as q}from"./index-Ba6kPx5P.js";import{A as V}from"./AddressSelector-Dx9xc_ZG.js";import"./ui-D_DTyfBr.js";const M={class:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},A={class:"row"},B={class:"col-md-8"},E={class:"card"},T={class:"card-body"},F={class:"row mb-3"},j={class:"col-md-6"},H={class:"col-md-6"},I={class:"row mb-3"},J={class:"col-md-8"},L={class:"col-md-4"},W={class:"row mb-3"},K={class:"col-md-4"},R={class:"col-md-4"},z={class:"col-md-4"},G={class:"mb-3"},O={class:"mb-3"},Q={class:"mb-3"},X={class:"row mb-3"},Y={class:"col-md-6"},Z={class:"col-md-6"},$={class:"row mb-3"},h={class:"col-md-6"},ee={class:"col-md-6"},le={class:"row mb-3"},se={class:"col-md-6"},oe={class:"col-md-6"},te={class:"d-grid gap-2 d-md-flex justify-content-md-end"},ae=["disabled"],re={key:0,class:"spinner-border spinner-border-sm",role:"status"},ie={key:0,class:"alert alert-danger mt-3"},de={__name:"NewDelivery",setup(ne){const b=D(),c=q();w(()=>{c.user&&c.user.user_type==="rider"&&b.push("/rider-portal")});const s=v({customer_id:"",driver_id:"",package:{description:"",weight:"",dimensions:"",package_type:"",value:"",special_instructions:""},delivery:{pickup_address:"",delivery_address:"",estimated_pickup:"",estimated_delivery:"",priority:1,delivery_fee:""},payment:{amount:"",payment_method:"cash"}}),i=v(!1),d=v(""),_=async()=>{try{i.value=!0,d.value="",console.log("Creating delivery:",s.value),await new Promise(n=>setTimeout(n,1e3)),alert("Delivery created successfully!"),b.push("/deliveries")}catch(n){d.value="Failed to create delivery. Please try again.",console.error("Create delivery error:",n)}finally{i.value=!1}};return(n,e)=>{const f=U("router-link");return y(),m(N,null,[l("div",M,[e[17]||(e[17]=l("h1",{class:"h2"},"New Delivery",-1)),u(f,{to:"/deliveries",class:"btn btn-outline-secondary"},{default:g(()=>[...e[16]||(e[16]=[p(" Back to Deliveries ",-1)])]),_:1})]),l("div",A,[l("div",B,[l("div",E,[e[42]||(e[42]=l("div",{class:"card-header"},[l("h5",null,"Create New Delivery")],-1)),l("div",T,[l("form",{onSubmit:x(_,["prevent"])},[l("div",F,[l("div",j,[e[19]||(e[19]=l("label",{class:"form-label"},"Customer",-1)),t(l("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.customer_id=o),class:"form-select",required:""},[...e[18]||(e[18]=[l("option",{value:""},"Select Customer",-1),l("option",{value:"1"},"John Doe",-1),l("option",{value:"2"},"Jane Smith",-1)])],512),[[r,s.value.customer_id]])]),l("div",H,[e[21]||(e[21]=l("label",{class:"form-label"},"Driver",-1)),t(l("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.driver_id=o),class:"form-select"},[...e[20]||(e[20]=[l("option",{value:""},"Unassigned",-1),l("option",{value:"1"},"Driver A",-1),l("option",{value:"2"},"Driver B",-1)])],512),[[r,s.value.driver_id]])])]),e[39]||(e[39]=l("div",{class:"mb-3"},[l("h6",null,"Package Details")],-1)),l("div",I,[l("div",J,[e[22]||(e[22]=l("label",{class:"form-label"},"Description",-1)),t(l("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.package.description=o),type:"text",class:"form-control",required:""},null,512),[[a,s.value.package.description]])]),l("div",L,[e[24]||(e[24]=l("label",{class:"form-label"},"Type",-1)),t(l("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.package.package_type=o),class:"form-select",required:""},[...e[23]||(e[23]=[S('<option value="" data-v-0eaab183>Select Type</option><option value="document" data-v-0eaab183>Document</option><option value="parcel" data-v-0eaab183>Parcel</option><option value="fragile" data-v-0eaab183>Fragile</option><option value="perishable" data-v-0eaab183>Perishable</option>',5)])],512),[[r,s.value.package.package_type]])])]),l("div",W,[l("div",K,[e[25]||(e[25]=l("label",{class:"form-label"},"Weight (kg)",-1)),t(l("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.value.package.weight=o),type:"number",step:"0.1",class:"form-control",required:""},null,512),[[a,s.value.package.weight,void 0,{number:!0}]])]),l("div",R,[e[26]||(e[26]=l("label",{class:"form-label"},"Dimensions",-1)),t(l("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>s.value.package.dimensions=o),type:"text",class:"form-control",placeholder:"LxWxH"},null,512),[[a,s.value.package.dimensions]])]),l("div",z,[e[27]||(e[27]=l("label",{class:"form-label"},"Value",-1)),t(l("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>s.value.package.value=o),type:"number",class:"form-control"},null,512),[[a,s.value.package.value,void 0,{number:!0}]])])]),l("div",G,[e[28]||(e[28]=l("label",{class:"form-label"},"Special Instructions",-1)),t(l("textarea",{"onUpdate:modelValue":e[7]||(e[7]=o=>s.value.package.special_instructions=o),class:"form-control",rows:"2"},null,512),[[a,s.value.package.special_instructions]])]),e[40]||(e[40]=l("div",{class:"mb-3"},[l("h6",null,"Delivery Details")],-1)),l("div",O,[u(V,{modelValue:s.value.delivery.pickup_address,"onUpdate:modelValue":e[8]||(e[8]=o=>s.value.delivery.pickup_address=o),label:"Pickup Address",placeholder:"Search for pickup location...","address-placeholder":"Enter or select pickup address",required:""},null,8,["modelValue"])]),l("div",Q,[u(V,{modelValue:s.value.delivery.delivery_address,"onUpdate:modelValue":e[9]||(e[9]=o=>s.value.delivery.delivery_address=o),label:"Delivery Address",placeholder:"Search for delivery location...","address-placeholder":"Enter or select delivery address",required:""},null,8,["modelValue"])]),l("div",X,[l("div",Y,[e[29]||(e[29]=l("label",{class:"form-label"},"Estimated Pickup",-1)),t(l("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>s.value.delivery.estimated_pickup=o),type:"datetime-local",class:"form-control",required:""},null,512),[[a,s.value.delivery.estimated_pickup]])]),l("div",Z,[e[30]||(e[30]=l("label",{class:"form-label"},"Estimated Delivery",-1)),t(l("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>s.value.delivery.estimated_delivery=o),type:"datetime-local",class:"form-control",required:""},null,512),[[a,s.value.delivery.estimated_delivery]])])]),l("div",$,[l("div",h,[e[32]||(e[32]=l("label",{class:"form-label"},"Priority",-1)),t(l("select",{"onUpdate:modelValue":e[12]||(e[12]=o=>s.value.delivery.priority=o),class:"form-select"},[...e[31]||(e[31]=[l("option",{value:"1"},"Normal",-1),l("option",{value:"2"},"Express",-1),l("option",{value:"3"},"Urgent",-1)])],512),[[r,s.value.delivery.priority]])]),l("div",ee,[e[33]||(e[33]=l("label",{class:"form-label"},"Delivery Fee",-1)),t(l("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>s.value.delivery.delivery_fee=o),type:"number",step:"0.01",class:"form-control"},null,512),[[a,s.value.delivery.delivery_fee,void 0,{number:!0}]])])]),e[41]||(e[41]=l("div",{class:"mb-3"},[l("h6",null,"Payment Details")],-1)),l("div",le,[l("div",se,[e[34]||(e[34]=l("label",{class:"form-label"},"Amount",-1)),t(l("input",{"onUpdate:modelValue":e[14]||(e[14]=o=>s.value.payment.amount=o),type:"number",step:"0.01",class:"form-control"},null,512),[[a,s.value.payment.amount,void 0,{number:!0}]])]),l("div",oe,[e[36]||(e[36]=l("label",{class:"form-label"},"Payment Method",-1)),t(l("select",{"onUpdate:modelValue":e[15]||(e[15]=o=>s.value.payment.payment_method=o),class:"form-select"},[...e[35]||(e[35]=[l("option",{value:"cash"},"Cash",-1),l("option",{value:"card"},"Card",-1),l("option",{value:"bank"},"Bank Transfer",-1),l("option",{value:"mobile"},"Mobile Money",-1)])],512),[[r,s.value.payment.payment_method]])])]),l("div",te,[u(f,{to:"/deliveries",class:"btn btn-outline-secondary me-md-2"},{default:g(()=>[...e[37]||(e[37]=[p(" Cancel ",-1)])]),_:1}),l("button",{type:"submit",class:"btn btn-primary",disabled:i.value},[i.value?(y(),m("span",re)):k("",!0),e[38]||(e[38]=p(" Create Delivery ",-1))],8,ae)])],32),d.value?(y(),m("div",ie,C(d.value),1)):k("",!0)])])])])],64)}}},ye=P(de,[["__scopeId","data-v-0eaab183"]]);export{ye as default};

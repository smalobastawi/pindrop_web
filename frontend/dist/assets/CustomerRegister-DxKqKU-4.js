import{r as u,l as k,e as a,f as e,I as v,E as t,R as f,C as V,k as c,G as r,M as x,N as R,D as b,i as _,h as P,w as U,g as C,u as q,o as d}from"./vendor-CbvXNS-i.js";import{c as y}from"./customers-ov1RWfbn.js";import{_ as N,l as w}from"./index--w8yyAH4.js";import"./ui-D_DTyfBr.js";const M={class:"container mt-5"},S={class:"row justify-content-center"},T={class:"col-md-8 col-lg-6"},B={class:"card shadow"},D={class:"card-body"},I={class:"mb-4"},Y={class:"row"},E={class:"col-md-6"},A={class:"card-body text-center"},G={class:"col-md-6"},L={class:"card-body text-center"},j={class:"row"},z={class:"col-md-12 mb-3"},F={class:"row"},H={class:"col-md-6 mb-3"},J={class:"col-md-6 mb-3"},K={class:"mb-3"},O={key:0,class:"rider-fields"},Q={class:"row"},W={class:"col-md-6 mb-3"},X={class:"col-md-6 mb-3"},Z={class:"row"},$={class:"col-md-6 mb-3"},ee={class:"col-md-6 mb-3"},se={class:"mb-3"},oe={class:"mb-3"},le={key:1,class:"alert alert-danger"},te={class:"d-grid"},re=["disabled"],ie={key:0,class:"spinner-border spinner-border-sm me-2"},ae={key:1,class:"text-center"},de={class:"alert alert-success"},ne={key:0},me={key:1},ue={__name:"CustomerRegister",setup(ce){q();const m=u(!1),p=u(!1),i=u(""),o=k({name:"",email:"",phone:"",address:"",user_type:"customer",password:"",confirmPassword:"",license_number:"",vehicle_type:"",vehicle_plate:"",vehicle_model:""}),h=async()=>{if(i.value="",o.password!==o.confirmPassword){i.value="Passwords do not match";return}if(o.password.length<6){i.value="Password must be at least 6 characters long";return}if(o.user_type==="rider"&&(!o.license_number||!o.vehicle_type||!o.vehicle_plate)){i.value="Please fill in all required rider information";return}m.value=!0;try{let n;o.user_type==="rider"?n=await y.registerRider({name:o.name,email:o.email,phone:o.phone,address:o.address,license_number:o.license_number,vehicle_type:o.vehicle_type,vehicle_plate:o.vehicle_plate,vehicle_model:o.vehicle_model,password:o.password}):n=await y.register({name:o.name,email:o.email,phone:o.phone,address:o.address,user_type:o.user_type,password:o.password}),n.data.message&&(p.value=!0,w.success("Registration successful!"))}catch(n){i.value=n.response?.data?.error||"Registration failed. Please try again.",w.error(i.value)}finally{m.value=!1}};return(n,s)=>{const g=C("router-link");return d(),a("div",M,[e("div",S,[e("div",T,[e("div",B,[s[30]||(s[30]=e("div",{class:"card-header bg-primary text-white"},[e("h4",{class:"mb-0"},"User Registration")],-1)),e("div",D,[e("div",I,[s[14]||(s[14]=e("h6",null,"Select Registration Type",-1)),e("div",Y,[e("div",E,[e("div",{class:v(["card h-100",{"border-primary":o.user_type==="customer","border-2":o.user_type==="customer"}])},[e("div",A,[t(e("input",{type:"radio",class:"form-check-input",id:"customer",value:"customer","onUpdate:modelValue":s[0]||(s[0]=l=>o.user_type=l)},null,512),[[f,o.user_type]]),s[12]||(s[12]=e("label",{for:"customer",class:"form-check-label w-100"},[e("i",{class:"bi bi-person-fill fs-2 d-block mb-2"}),e("strong",null,"Customer"),e("p",{class:"text-muted small mt-2"},"Place orders and track deliveries")],-1))])],2)]),e("div",G,[e("div",{class:v(["card h-100",{"border-primary":o.user_type==="rider","border-2":o.user_type==="rider"}])},[e("div",L,[t(e("input",{type:"radio",class:"form-check-input",id:"rider",value:"rider","onUpdate:modelValue":s[1]||(s[1]=l=>o.user_type=l)},null,512),[[f,o.user_type]]),s[13]||(s[13]=e("label",{for:"rider",class:"form-check-label w-100"},[e("i",{class:"bi bi-truck fs-2 d-block mb-2"}),e("strong",null,"Rider"),e("p",{class:"text-muted small mt-2"},"Deliver packages and earn income")],-1))])],2)])])]),p.value?(d(),a("div",ae,[e("div",de,[s[28]||(s[28]=e("h5",null,"Registration Successful!",-1)),o.user_type==="rider"?(d(),a("p",ne," Your rider application has been submitted. You will receive approval notification after review. ")):(d(),a("p",me," Your account has been created. You can now log in to access your customer portal. "))]),P(g,{to:"/customer-login",class:"btn btn-primary"},{default:U(()=>[...s[29]||(s[29]=[_(" Go to Login ",-1)])]),_:1})])):(d(),a("form",{key:0,onSubmit:V(h,["prevent"])},[e("div",j,[e("div",z,[s[15]||(s[15]=e("label",{for:"name",class:"form-label"},"Full Name *",-1)),t(e("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":s[2]||(s[2]=l=>o.name=l),required:""},null,512),[[r,o.name]])])]),e("div",F,[e("div",H,[s[16]||(s[16]=e("label",{for:"email",class:"form-label"},"Email *",-1)),t(e("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":s[3]||(s[3]=l=>o.email=l),required:""},null,512),[[r,o.email]])]),e("div",J,[s[17]||(s[17]=e("label",{for:"phone",class:"form-label"},"Phone *",-1)),t(e("input",{type:"tel",class:"form-control",id:"phone","onUpdate:modelValue":s[4]||(s[4]=l=>o.phone=l),required:""},null,512),[[r,o.phone]])])]),e("div",K,[s[18]||(s[18]=e("label",{for:"address",class:"form-label"},"Address *",-1)),t(e("textarea",{class:"form-control",id:"address",rows:"3","onUpdate:modelValue":s[5]||(s[5]=l=>o.address=l),required:""},null,512),[[r,o.address]])]),o.user_type==="rider"?(d(),a("div",O,[s[24]||(s[24]=e("hr",{class:"my-4"},null,-1)),s[25]||(s[25]=e("h6",{class:"text-primary"},"Rider Information",-1)),e("div",Q,[e("div",W,[s[19]||(s[19]=e("label",{for:"license_number",class:"form-label"},"License Number *",-1)),t(e("input",{type:"text",class:"form-control",id:"license_number","onUpdate:modelValue":s[6]||(s[6]=l=>o.license_number=l),required:""},null,512),[[r,o.license_number]])]),e("div",X,[s[21]||(s[21]=e("label",{for:"vehicle_type",class:"form-label"},"Vehicle Type *",-1)),t(e("select",{class:"form-control",id:"vehicle_type","onUpdate:modelValue":s[7]||(s[7]=l=>o.vehicle_type=l),required:""},[...s[20]||(s[20]=[R('<option value="" data-v-bd9f5239>Select Vehicle</option><option value="bicycle" data-v-bd9f5239>Bicycle</option><option value="motorcycle" data-v-bd9f5239>Motorcycle</option><option value="car" data-v-bd9f5239>Car</option><option value="van" data-v-bd9f5239>Van</option><option value="truck" data-v-bd9f5239>Truck</option>',6)])],512),[[x,o.vehicle_type]])])]),e("div",Z,[e("div",$,[s[22]||(s[22]=e("label",{for:"vehicle_plate",class:"form-label"},"Vehicle Plate *",-1)),t(e("input",{type:"text",class:"form-control",id:"vehicle_plate","onUpdate:modelValue":s[8]||(s[8]=l=>o.vehicle_plate=l),required:""},null,512),[[r,o.vehicle_plate]])]),e("div",ee,[s[23]||(s[23]=e("label",{for:"vehicle_model",class:"form-label"},"Vehicle Model",-1)),t(e("input",{type:"text",class:"form-control",id:"vehicle_model","onUpdate:modelValue":s[9]||(s[9]=l=>o.vehicle_model=l)},null,512),[[r,o.vehicle_model]])])])])):c("",!0),e("div",se,[s[26]||(s[26]=e("label",{for:"password",class:"form-label"},"Password *",-1)),t(e("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":s[10]||(s[10]=l=>o.password=l),required:""},null,512),[[r,o.password]])]),e("div",oe,[s[27]||(s[27]=e("label",{for:"confirmPassword",class:"form-label"},"Confirm Password *",-1)),t(e("input",{type:"password",class:"form-control",id:"confirmPassword","onUpdate:modelValue":s[11]||(s[11]=l=>o.confirmPassword=l),required:""},null,512),[[r,o.confirmPassword]])]),i.value?(d(),a("div",le,b(i.value),1)):c("",!0),e("div",te,[e("button",{type:"submit",class:"btn btn-primary",disabled:m.value},[m.value?(d(),a("span",ie)):c("",!0),_(" "+b(o.user_type==="rider"?"Register as Rider":"Register as Customer"),1)],8,re)])],32))])])])])])}}},_e=N(ue,[["__scopeId","data-v-bd9f5239"]]);export{_e as default};

import{T as x,r as c,s as S,e as a,f as s,h as v,i as C,w as N,g as U,H as l,J as m,F as _,I as h,L as p,N as P,P as T,M as y,o as d,j as V}from"./vendor-CVqOb0XR.js";import{_ as A}from"./index-Ba6kPx5P.js";import"./ui-D_DTyfBr.js";const I={class:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},L={class:"row"},M={class:"col-md-8"},B={class:"card mb-3"},j={class:"card-body"},E={class:"row mb-3"},F={class:"col-md-6"},K={class:"col-md-6"},$={class:"row mb-3"},H={class:"col-md-6"},J={class:"text-muted"},R={class:"col-md-6"},W={class:"mb-3"},Z={class:"mb-3"},z={class:"row mb-3"},G={class:"col-md-6"},q={class:"col-md-6"},O={class:"card mb-3"},Q={class:"card-body"},X={class:"row mb-3"},Y={class:"col-md-8"},ss={class:"col-md-4"},ts={class:"badge bg-secondary"},es={class:"row mb-3"},ls={class:"col-md-4"},os={class:"col-md-4"},ns={class:"col-md-4"},as={key:0,class:"mb-3"},ds={class:"card mb-3"},is={class:"card-body"},rs={key:0},us={class:"d-flex justify-content-between"},cs={class:"text-muted"},vs={class:"mb-1"},ms={key:0,class:"text-muted"},ps={key:1,class:"text-muted"},bs={class:"col-md-4"},gs={class:"card mb-3"},_s={class:"card-body"},ys={class:"row mb-3"},ks={class:"col-6"},fs={class:"col-6"},ws={class:"mb-3"},Ds={class:"card mb-3"},xs={class:"card-body"},Ss={key:0,class:"modal show d-block",tabindex:"-1"},Cs={class:"modal-dialog"},Ns={class:"modal-content"},Us={class:"modal-header"},hs={class:"modal-body"},Ps={class:"mb-3"},Ts={class:"mb-3"},Vs={class:"mb-3"},As={class:"modal-footer"},Is={__name:"DeliveryDetail",setup(Ls){const k=x().params.id,e=c({tracking_number:"PKG123456789ABC",status:"pending",customer:{name:"John Doe",email:"john@example.com"},driver:null,pickup_address:"Westlands, Nairobi",delivery_address:"Karen, Nairobi",estimated_pickup:"2025-12-13T10:00:00Z",estimated_delivery:"2025-12-13T16:00:00Z",package:{description:"Laptop Computer",package_type:"fragile",weight:2.5,dimensions:"35x25x5",value:5e4,special_instructions:"Handle with care"},payment:{amount:250,payment_method:"cash",status:"pending"},status_updates:[]}),r=c(!1),i=c({status:"",location:"",notes:""}),b=n=>({pending:"bg-warning",assigned:"bg-info",picked_up:"bg-primary",in_transit:"bg-primary",delivered:"bg-success",failed:"bg-danger",cancelled:"bg-secondary"})[n]||"bg-secondary",f=n=>({pending:"bg-warning",paid:"bg-success",failed:"bg-danger",refunded:"bg-info"})[n]||"bg-secondary",u=n=>new Date(n).toLocaleString(),g=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"KES"}).format(n),w=()=>{console.log("Updating status:",i.value),r.value=!1};return S(()=>{console.log("Loading delivery:",k)}),(n,t)=>{const D=U("router-link");return d(),a(_,null,[s("div",I,[t[7]||(t[7]=s("h1",{class:"h2"},"Delivery Details",-1)),C(D,{to:"/deliveries",class:"btn btn-outline-secondary"},{default:N(()=>[...t[6]||(t[6]=[V(" Back to Deliveries ",-1)])]),_:1})]),s("div",L,[s("div",M,[s("div",B,[t[16]||(t[16]=s("div",{class:"card-header"},[s("h5",null,"Delivery Information")],-1)),s("div",j,[s("div",E,[s("div",F,[t[8]||(t[8]=s("strong",null,"Tracking Number:",-1)),s("p",null,l(e.value.tracking_number),1)]),s("div",K,[t[9]||(t[9]=s("strong",null,"Status:",-1)),s("span",{class:m(["badge",b(e.value.status)])},l(e.value.status),3)])]),s("div",$,[s("div",H,[t[10]||(t[10]=s("strong",null,"Customer:",-1)),s("p",null,l(e.value.customer?.name),1),s("small",J,l(e.value.customer?.email),1)]),s("div",R,[t[11]||(t[11]=s("strong",null,"Driver:",-1)),s("p",null,l(e.value.driver?.name||"Unassigned"),1)])]),s("div",W,[t[12]||(t[12]=s("strong",null,"Pickup Address:",-1)),s("p",null,l(e.value.pickup_address),1)]),s("div",Z,[t[13]||(t[13]=s("strong",null,"Delivery Address:",-1)),s("p",null,l(e.value.delivery_address),1)]),s("div",z,[s("div",G,[t[14]||(t[14]=s("strong",null,"Estimated Pickup:",-1)),s("p",null,l(u(e.value.estimated_pickup)),1)]),s("div",q,[t[15]||(t[15]=s("strong",null,"Estimated Delivery:",-1)),s("p",null,l(u(e.value.estimated_delivery)),1)])])])]),s("div",O,[t[23]||(t[23]=s("div",{class:"card-header"},[s("h5",null,"Package Details")],-1)),s("div",Q,[s("div",X,[s("div",Y,[t[17]||(t[17]=s("strong",null,"Description:",-1)),s("p",null,l(e.value.package?.description),1)]),s("div",ss,[t[18]||(t[18]=s("strong",null,"Type:",-1)),s("span",ts,l(e.value.package?.package_type),1)])]),s("div",es,[s("div",ls,[t[19]||(t[19]=s("strong",null,"Weight:",-1)),s("p",null,l(e.value.package?.weight)+" kg",1)]),s("div",os,[t[20]||(t[20]=s("strong",null,"Dimensions:",-1)),s("p",null,l(e.value.package?.dimensions||"N/A"),1)]),s("div",ns,[t[21]||(t[21]=s("strong",null,"Value:",-1)),s("p",null,l(g(e.value.package?.value)),1)])]),e.value.package?.special_instructions?(d(),a("div",as,[t[22]||(t[22]=s("strong",null,"Special Instructions:",-1)),s("p",null,l(e.value.package.special_instructions),1)])):v("",!0)])]),s("div",ds,[t[25]||(t[25]=s("div",{class:"card-header"},[s("h5",null,"Status Updates")],-1)),s("div",is,[e.value.status_updates&&e.value.status_updates.length>0?(d(),a("div",rs,[(d(!0),a(_,null,h(e.value.status_updates,o=>(d(),a("div",{key:o.id,class:"mb-3"},[s("div",us,[s("span",{class:m(["badge",b(o.status)])},l(o.status),3),s("small",cs,l(u(o.created_at)),1)]),s("p",vs,l(o.notes),1),o.location?(d(),a("small",ms," ðŸ“ "+l(o.location),1)):v("",!0),t[24]||(t[24]=s("hr",null,null,-1))]))),128))])):(d(),a("p",ps,"No status updates yet."))])])]),s("div",bs,[s("div",gs,[t[29]||(t[29]=s("div",{class:"card-header"},[s("h5",null,"Payment")],-1)),s("div",_s,[s("div",ys,[s("div",ks,[t[26]||(t[26]=s("strong",null,"Amount:",-1)),s("p",null,l(g(e.value.payment?.amount)),1)]),s("div",fs,[t[27]||(t[27]=s("strong",null,"Method:",-1)),s("p",null,l(e.value.payment?.payment_method||"N/A"),1)])]),s("div",ws,[t[28]||(t[28]=s("strong",null,"Status:",-1)),s("span",{class:m(["badge",f(e.value.payment?.status)])},l(e.value.payment?.status||"pending"),3)])])]),s("div",Ds,[t[32]||(t[32]=s("div",{class:"card-header"},[s("h5",null,"Actions")],-1)),s("div",xs,[s("button",{onClick:t[0]||(t[0]=o=>r.value=!0),class:"btn btn-primary w-100 mb-2"}," Update Status "),t[30]||(t[30]=s("button",{class:"btn btn-outline-secondary w-100 mb-2"}," Print Receipt ",-1)),t[31]||(t[31]=s("button",{class:"btn btn-outline-danger w-100"}," Cancel Delivery ",-1))])])])]),r.value?(d(),a("div",Ss,[s("div",Cs,[s("div",Ns,[s("div",Us,[t[33]||(t[33]=s("h5",{class:"modal-title"},"Update Delivery Status",-1)),s("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=o=>r.value=!1)})]),s("div",hs,[s("div",Ps,[t[35]||(t[35]=s("label",{class:"form-label"},"Status",-1)),p(s("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>i.value.status=o),class:"form-select"},[...t[34]||(t[34]=[T('<option value="assigned" data-v-405e4cd4>Assigned</option><option value="picked_up" data-v-405e4cd4>Picked Up</option><option value="in_transit" data-v-405e4cd4>In Transit</option><option value="delivered" data-v-405e4cd4>Delivered</option><option value="failed" data-v-405e4cd4>Failed</option>',5)])],512),[[P,i.value.status]])]),s("div",Ts,[t[36]||(t[36]=s("label",{class:"form-label"},"Location",-1)),p(s("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>i.value.location=o),type:"text",class:"form-control"},null,512),[[y,i.value.location]])]),s("div",Vs,[t[37]||(t[37]=s("label",{class:"form-label"},"Notes",-1)),p(s("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>i.value.notes=o),class:"form-control",rows:"3"},null,512),[[y,i.value.notes]])])]),s("div",As,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[5]||(t[5]=o=>r.value=!1)}," Cancel "),s("button",{type:"button",class:"btn btn-primary",onClick:w}," Update Status ")])])])])):v("",!0)],64)}}},Fs=A(Is,[["__scopeId","data-v-405e4cd4"]]);export{Fs as default};

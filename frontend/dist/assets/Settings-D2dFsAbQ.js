import{r as c,s as h,e as D,f as a,K as u,L as n,M as o,O as r,N as V,P as m,F as N,o as P}from"./vendor-CVqOb0XR.js";import{_ as M,a as y}from"./index-Ba6kPx5P.js";import"./ui-D_DTyfBr.js";const C={class:"row"},F={class:"col-md-8"},A={class:"card mb-4"},E={class:"card-body"},T={class:"row mb-3"},B={class:"col-md-6"},K={class:"col-md-6"},I={class:"mb-3"},O={class:"row mb-3"},G={class:"col-md-6"},j={class:"col-md-6"},R={class:"card mb-4"},L={class:"card-body"},H={class:"row mb-3"},Q={class:"col-md-6"},W={class:"input-group"},Y={class:"col-md-6"},$={class:"input-group"},q={class:"row mb-3"},z={class:"col-md-6"},J={class:"col-md-6"},X={class:"row mb-3"},Z={class:"col-md-6"},ee={class:"col-md-6"},ae={class:"card mb-4"},te={class:"card-body"},se={class:"mb-3"},le={class:"form-check"},ne={class:"form-check"},ie={class:"form-check"},oe={class:"mb-3"},re={class:"form-check"},de={class:"form-check"},ue={class:"card mb-4"},ce={class:"card-body"},pe={class:"mb-3"},ve={class:"form-check"},me={class:"form-check"},ye={class:"form-check"},be={class:"form-check"},ge={class:"row mb-3"},fe={class:"col-md-6"},_e={class:"col-md-6"},ke={__name:"Settings",setup(Se){const t=c({general:{company_name:"RiderApp Delivery",support_email:"support@pindrop.com",company_address:"123 Business Street, Nairobi, Kenya",phone:"+254712345678",business_hours:"8:00 AM - 6:00 PM"},delivery:{base_fee:5,fee_per_kg:2.5,express_multiplier:1.5,urgent_multiplier:2,max_weight:50,max_distance:100},notifications:{email_new_order:!0,email_status_update:!0,email_payment:!1,sms_new_order:!1,sms_delivery:!0},payment:{accept_cash:!0,accept_card:!0,accept_mobile:!0,accept_bank:!1,currency:"KES",tax_rate:16}}),p=c(!1),v=c(!1),b=async()=>{p.value=!0;try{const i=await y.get("/admin-api/api/settings/"),e=i.data.results||i.data;e.length>0&&e.forEach(s=>{const l=s.typed_value!==void 0?s.typed_value:s.value;switch(s.key){case"company_name":t.value.general.company_name=l;break;case"support_email":t.value.general.support_email=l;break;case"company_address":t.value.general.company_address=l;break;case"phone":t.value.general.phone=l;break;case"business_hours":t.value.general.business_hours=l;break;case"base_delivery_fee":t.value.delivery.base_fee=parseFloat(l);break;case"fee_per_kg":t.value.delivery.fee_per_kg=parseFloat(l);break;case"express_multiplier":t.value.delivery.express_multiplier=parseFloat(l);break;case"urgent_multiplier":t.value.delivery.urgent_multiplier=parseFloat(l);break;case"max_weight":t.value.delivery.max_weight=parseInt(l);break;case"max_distance":t.value.delivery.max_distance=parseInt(l);break;case"email_new_order":t.value.notifications.email_new_order=l==="true"||l===!0;break;case"email_status_update":t.value.notifications.email_status_update=l==="true"||l===!0;break;case"email_payment":t.value.notifications.email_payment=l==="true"||l===!0;break;case"sms_new_order":t.value.notifications.sms_new_order=l==="true"||l===!0;break;case"sms_delivery":t.value.notifications.sms_delivery=l==="true"||l===!0;break;case"accept_cash":t.value.payment.accept_cash=l==="true"||l===!0;break;case"accept_card":t.value.payment.accept_card=l==="true"||l===!0;break;case"accept_mobile":t.value.payment.accept_mobile=l==="true"||l===!0;break;case"accept_bank":t.value.payment.accept_bank=l==="true"||l===!0;break;case"currency":t.value.payment.currency=l;break;case"tax_rate":t.value.payment.tax_rate=parseFloat(l);break}})}catch(i){console.error("Failed to load settings:",i)}finally{p.value=!1}},d=async i=>{v.value=!0;try{for(const e of i)await y.post("/admin-api/api/settings/upsert/",e);return!0}catch(e){return console.error("Failed to save settings:",e),!1}finally{v.value=!1}},g=async()=>{const i=[{key:"company_name",value:t.value.general.company_name,setting_type:"string",category:"general"},{key:"support_email",value:t.value.general.support_email,setting_type:"string",category:"general"},{key:"company_address",value:t.value.general.company_address,setting_type:"string",category:"general"},{key:"phone",value:t.value.general.phone,setting_type:"string",category:"general"},{key:"business_hours",value:t.value.general.business_hours,setting_type:"string",category:"general"}],e=await d(i);alert(e?"General settings saved successfully!":"Failed to save general settings. Please try again.")},f=async()=>{const i=[{key:"base_delivery_fee",value:t.value.delivery.base_fee.toString(),setting_type:"float",category:"delivery"},{key:"fee_per_kg",value:t.value.delivery.fee_per_kg.toString(),setting_type:"float",category:"delivery"},{key:"express_multiplier",value:t.value.delivery.express_multiplier.toString(),setting_type:"float",category:"delivery"},{key:"urgent_multiplier",value:t.value.delivery.urgent_multiplier.toString(),setting_type:"float",category:"delivery"},{key:"max_weight",value:t.value.delivery.max_weight.toString(),setting_type:"integer",category:"delivery"},{key:"max_distance",value:t.value.delivery.max_distance.toString(),setting_type:"integer",category:"delivery"}],e=await d(i);alert(e?"Delivery settings saved successfully!":"Failed to save delivery settings. Please try again.")},_=async()=>{const i=[{key:"email_new_order",value:t.value.notifications.email_new_order.toString(),setting_type:"boolean",category:"notifications"},{key:"email_status_update",value:t.value.notifications.email_status_update.toString(),setting_type:"boolean",category:"notifications"},{key:"email_payment",value:t.value.notifications.email_payment.toString(),setting_type:"boolean",category:"notifications"},{key:"sms_new_order",value:t.value.notifications.sms_new_order.toString(),setting_type:"boolean",category:"notifications"},{key:"sms_delivery",value:t.value.notifications.sms_delivery.toString(),setting_type:"boolean",category:"notifications"}],e=await d(i);alert(e?"Notification settings saved successfully!":"Failed to save notification settings. Please try again.")},k=async()=>{const i=[{key:"accept_cash",value:t.value.payment.accept_cash.toString(),setting_type:"boolean",category:"payment"},{key:"accept_card",value:t.value.payment.accept_card.toString(),setting_type:"boolean",category:"payment"},{key:"accept_mobile",value:t.value.payment.accept_mobile.toString(),setting_type:"boolean",category:"payment"},{key:"accept_bank",value:t.value.payment.accept_bank.toString(),setting_type:"boolean",category:"payment"},{key:"currency",value:t.value.payment.currency,setting_type:"string",category:"payment"},{key:"tax_rate",value:t.value.payment.tax_rate.toString(),setting_type:"float",category:"payment"}],e=await d(i);alert(e?"Payment settings saved successfully!":"Failed to save payment settings. Please try again.")},S=()=>{alert("Database backup initiated. You will be notified when complete.")},x=()=>{alert("Cache cleared successfully!")},w=()=>{alert("Test email sent to support@pindrop.com")},U=()=>{confirm("Are you sure you want to regenerate API keys? This will invalidate all existing keys.")&&alert("API keys regenerated successfully!")};return h(()=>{b()}),(i,e)=>(P(),D(N,null,[e[61]||(e[61]=a("div",{class:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[a("h1",{class:"h2"},"Settings")],-1)),a("div",C,[a("div",F,[a("div",A,[e[28]||(e[28]=a("div",{class:"card-header"},[a("h5",null,"General Settings")],-1)),a("div",E,[a("form",{onSubmit:u(g,["prevent"])},[a("div",T,[a("div",B,[e[22]||(e[22]=a("label",{class:"form-label"},"Company Name",-1)),n(a("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.value.general.company_name=s),type:"text",class:"form-control"},null,512),[[o,t.value.general.company_name]])]),a("div",K,[e[23]||(e[23]=a("label",{class:"form-label"},"Support Email",-1)),n(a("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>t.value.general.support_email=s),type:"email",class:"form-control"},null,512),[[o,t.value.general.support_email]])])]),a("div",I,[e[24]||(e[24]=a("label",{class:"form-label"},"Company Address",-1)),n(a("textarea",{"onUpdate:modelValue":e[2]||(e[2]=s=>t.value.general.company_address=s),class:"form-control",rows:"2"},null,512),[[o,t.value.general.company_address]])]),a("div",O,[a("div",G,[e[25]||(e[25]=a("label",{class:"form-label"},"Phone Number",-1)),n(a("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>t.value.general.phone=s),type:"tel",class:"form-control"},null,512),[[o,t.value.general.phone]])]),a("div",j,[e[26]||(e[26]=a("label",{class:"form-label"},"Business Hours",-1)),n(a("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>t.value.general.business_hours=s),type:"text",class:"form-control",placeholder:"8:00 AM - 6:00 PM"},null,512),[[o,t.value.general.business_hours]])])]),e[27]||(e[27]=a("button",{type:"submit",class:"btn btn-primary"},"Save General Settings",-1))],32)])]),a("div",R,[e[38]||(e[38]=a("div",{class:"card-header"},[a("h5",null,"Delivery Settings")],-1)),a("div",L,[a("form",{onSubmit:u(f,["prevent"])},[a("div",H,[a("div",Q,[e[30]||(e[30]=a("label",{class:"form-label"},"Base Delivery Fee",-1)),a("div",W,[e[29]||(e[29]=a("span",{class:"input-group-text"},"KSh",-1)),n(a("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>t.value.delivery.base_fee=s),type:"number",step:"0.01",class:"form-control"},null,512),[[o,t.value.delivery.base_fee,void 0,{number:!0}]])])]),a("div",Y,[e[32]||(e[32]=a("label",{class:"form-label"},"Fee per Kilogram",-1)),a("div",$,[e[31]||(e[31]=a("span",{class:"input-group-text"},"KSh",-1)),n(a("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>t.value.delivery.fee_per_kg=s),type:"number",step:"0.01",class:"form-control"},null,512),[[o,t.value.delivery.fee_per_kg,void 0,{number:!0}]])])])]),a("div",q,[a("div",z,[e[33]||(e[33]=a("label",{class:"form-label"},"Express Delivery Multiplier",-1)),n(a("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>t.value.delivery.express_multiplier=s),type:"number",step:"0.1",class:"form-control"},null,512),[[o,t.value.delivery.express_multiplier,void 0,{number:!0}]])]),a("div",J,[e[34]||(e[34]=a("label",{class:"form-label"},"Urgent Delivery Multiplier",-1)),n(a("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>t.value.delivery.urgent_multiplier=s),type:"number",step:"0.1",class:"form-control"},null,512),[[o,t.value.delivery.urgent_multiplier,void 0,{number:!0}]])])]),a("div",X,[a("div",Z,[e[35]||(e[35]=a("label",{class:"form-label"},"Maximum Weight (kg)",-1)),n(a("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>t.value.delivery.max_weight=s),type:"number",class:"form-control"},null,512),[[o,t.value.delivery.max_weight,void 0,{number:!0}]])]),a("div",ee,[e[36]||(e[36]=a("label",{class:"form-label"},"Maximum Distance (km)",-1)),n(a("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>t.value.delivery.max_distance=s),type:"number",class:"form-control"},null,512),[[o,t.value.delivery.max_distance,void 0,{number:!0}]])])]),e[37]||(e[37]=a("button",{type:"submit",class:"btn btn-primary"},"Save Delivery Settings",-1))],32)])]),a("div",ae,[e[47]||(e[47]=a("div",{class:"card-header"},[a("h5",null,"Notification Settings")],-1)),a("div",te,[a("form",{onSubmit:u(_,["prevent"])},[a("div",se,[e[42]||(e[42]=a("h6",null,"Email Notifications",-1)),a("div",le,[n(a("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>t.value.notifications.email_new_order=s),class:"form-check-input",type:"checkbox",id:"emailNewOrder"},null,512),[[r,t.value.notifications.email_new_order]]),e[39]||(e[39]=a("label",{class:"form-check-label",for:"emailNewOrder"}," New Order Notifications ",-1))]),a("div",ne,[n(a("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>t.value.notifications.email_status_update=s),class:"form-check-input",type:"checkbox",id:"emailStatusUpdate"},null,512),[[r,t.value.notifications.email_status_update]]),e[40]||(e[40]=a("label",{class:"form-check-label",for:"emailStatusUpdate"}," Status Update Notifications ",-1))]),a("div",ie,[n(a("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>t.value.notifications.email_payment=s),class:"form-check-input",type:"checkbox",id:"emailPayment"},null,512),[[r,t.value.notifications.email_payment]]),e[41]||(e[41]=a("label",{class:"form-check-label",for:"emailPayment"}," Payment Notifications ",-1))])]),a("div",oe,[e[45]||(e[45]=a("h6",null,"SMS Notifications",-1)),a("div",re,[n(a("input",{"onUpdate:modelValue":e[14]||(e[14]=s=>t.value.notifications.sms_new_order=s),class:"form-check-input",type:"checkbox",id:"smsNewOrder"},null,512),[[r,t.value.notifications.sms_new_order]]),e[43]||(e[43]=a("label",{class:"form-check-label",for:"smsNewOrder"}," New Order Notifications ",-1))]),a("div",de,[n(a("input",{"onUpdate:modelValue":e[15]||(e[15]=s=>t.value.notifications.sms_delivery=s),class:"form-check-input",type:"checkbox",id:"smsDelivery"},null,512),[[r,t.value.notifications.sms_delivery]]),e[44]||(e[44]=a("label",{class:"form-check-label",for:"smsDelivery"}," Delivery Status Notifications ",-1))])]),e[46]||(e[46]=a("button",{type:"submit",class:"btn btn-primary"},"Save Notification Settings",-1))],32)])]),a("div",ue,[e[57]||(e[57]=a("div",{class:"card-header"},[a("h5",null,"Payment Settings")],-1)),a("div",ce,[a("form",{onSubmit:u(k,["prevent"])},[a("div",pe,[e[52]||(e[52]=a("h6",null,"Accepted Payment Methods",-1)),a("div",ve,[n(a("input",{"onUpdate:modelValue":e[16]||(e[16]=s=>t.value.payment.accept_cash=s),class:"form-check-input",type:"checkbox",id:"acceptCash"},null,512),[[r,t.value.payment.accept_cash]]),e[48]||(e[48]=a("label",{class:"form-check-label",for:"acceptCash"}," Cash on Delivery ",-1))]),a("div",me,[n(a("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>t.value.payment.accept_card=s),class:"form-check-input",type:"checkbox",id:"acceptCard"},null,512),[[r,t.value.payment.accept_card]]),e[49]||(e[49]=a("label",{class:"form-check-label",for:"acceptCard"}," Credit/Debit Cards ",-1))]),a("div",ye,[n(a("input",{"onUpdate:modelValue":e[18]||(e[18]=s=>t.value.payment.accept_mobile=s),class:"form-check-input",type:"checkbox",id:"acceptMobile"},null,512),[[r,t.value.payment.accept_mobile]]),e[50]||(e[50]=a("label",{class:"form-check-label",for:"acceptMobile"}," Mobile Money ",-1))]),a("div",be,[n(a("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>t.value.payment.accept_bank=s),class:"form-check-input",type:"checkbox",id:"acceptBank"},null,512),[[r,t.value.payment.accept_bank]]),e[51]||(e[51]=a("label",{class:"form-check-label",for:"acceptBank"}," Bank Transfer ",-1))])]),a("div",ge,[a("div",fe,[e[54]||(e[54]=a("label",{class:"form-label"},"Default Currency",-1)),n(a("select",{"onUpdate:modelValue":e[20]||(e[20]=s=>t.value.payment.currency=s),class:"form-select"},[...e[53]||(e[53]=[a("option",{value:"USD"},"USD ($)",-1),a("option",{value:"EUR"},"EUR (â‚¬)",-1),a("option",{value:"KES"},"KES (KSh)",-1),a("option",{value:"GBP"},"GBP (Â£)",-1)])],512),[[V,t.value.payment.currency]])]),a("div",_e,[e[55]||(e[55]=a("label",{class:"form-label"},"Tax Rate (%)",-1)),n(a("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>t.value.payment.tax_rate=s),type:"number",step:"0.01",class:"form-control"},null,512),[[o,t.value.payment.tax_rate,void 0,{number:!0}]])])]),e[56]||(e[56]=a("button",{type:"submit",class:"btn btn-primary"},"Save Payment Settings",-1))],32)])])]),a("div",{class:"col-md-4"},[e[59]||(e[59]=m('<div class="card mb-4" data-v-2a2e5c2e><div class="card-header" data-v-2a2e5c2e><h5 data-v-2a2e5c2e>System Status</h5></div><div class="card-body" data-v-2a2e5c2e><div class="mb-3" data-v-2a2e5c2e><div class="d-flex justify-content-between" data-v-2a2e5c2e><span data-v-2a2e5c2e>Database</span><span class="badge bg-success" data-v-2a2e5c2e>Connected</span></div></div><div class="mb-3" data-v-2a2e5c2e><div class="d-flex justify-content-between" data-v-2a2e5c2e><span data-v-2a2e5c2e>API Status</span><span class="badge bg-success" data-v-2a2e5c2e>Online</span></div></div><div class="mb-3" data-v-2a2e5c2e><div class="d-flex justify-content-between" data-v-2a2e5c2e><span data-v-2a2e5c2e>Email Service</span><span class="badge bg-success" data-v-2a2e5c2e>Active</span></div></div><div class="mb-3" data-v-2a2e5c2e><div class="d-flex justify-content-between" data-v-2a2e5c2e><span data-v-2a2e5c2e>SMS Service</span><span class="badge bg-warning" data-v-2a2e5c2e>Limited</span></div></div></div></div>',1)),a("div",{class:"card mb-4"},[e[58]||(e[58]=a("div",{class:"card-header"},[a("h5",null,"Quick Actions")],-1)),a("div",{class:"card-body"},[a("div",{class:"d-grid gap-2"},[a("button",{class:"btn btn-outline-primary",onClick:S}," ğŸ’¾ Backup Database "),a("button",{class:"btn btn-outline-secondary",onClick:x}," ğŸ—‘ï¸ Clear Cache "),a("button",{class:"btn btn-outline-info",onClick:w}," ğŸ“§ Send Test Email "),a("button",{class:"btn btn-outline-warning",onClick:U}," ğŸ”‘ Regenerate API Keys ")])])]),e[60]||(e[60]=m('<div class="card" data-v-2a2e5c2e><div class="card-header" data-v-2a2e5c2e><h5 data-v-2a2e5c2e>System Information</h5></div><div class="card-body" data-v-2a2e5c2e><p data-v-2a2e5c2e><strong data-v-2a2e5c2e>Version:</strong> 1.0.0</p><p data-v-2a2e5c2e><strong data-v-2a2e5c2e>Last Updated:</strong> Dec 12, 2025</p><p data-v-2a2e5c2e><strong data-v-2a2e5c2e>Uptime:</strong> 15 days, 6 hours</p><p data-v-2a2e5c2e><strong data-v-2a2e5c2e>Total Users:</strong> 127</p><p data-v-2a2e5c2e><strong data-v-2a2e5c2e>Total Deliveries:</strong> 1,245</p><p data-v-2a2e5c2e><strong data-v-2a2e5c2e>Active Drivers:</strong> 23</p></div></div>',1))])])],64))}},he=M(ke,[["__scopeId","data-v-2a2e5c2e"]]);export{he as default};

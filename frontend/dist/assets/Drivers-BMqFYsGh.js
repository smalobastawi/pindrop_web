import{r as p,b as B,s as N,e as u,f as l,h as _,L as d,M as m,N as A,F as D,I as M,j as i,H as s,J as y,K as S,o as v}from"./vendor-CVqOb0XR.js";import{_ as E}from"./index-Ba6kPx5P.js";import"./ui-D_DTyfBr.js";const U={class:"row mb-3"},T={class:"col-md-4"},$={class:"col-md-3"},q={class:"row"},P={class:"card h-100"},I={class:"card-body"},K={class:"d-flex justify-content-between align-items-start mb-3"},F={class:"card-title"},R={class:"mb-2"},j={class:"text-muted"},J={class:"mb-2"},O={class:"text-muted"},W={class:"mb-2"},z={class:"text-muted"},H={class:"mb-2"},Q={class:"text-muted"},G={class:"row text-center"},X={class:"col-6"},Y={class:"text-primary"},Z={class:"col-6"},ll={class:"text-success"},el={key:0,class:"mt-2"},tl={class:"text-muted"},sl={class:"card-footer"},ol={class:"btn-group w-100"},al=["onClick"],nl=["onClick"],il=["onClick"],dl={key:0,class:"text-center py-5"},rl={class:"modal fade",id:"driverModal",tabindex:"-1"},ul={class:"modal-dialog modal-lg"},ml={class:"modal-content"},vl={key:0,class:"modal-body"},bl={class:"row"},cl={class:"col-md-6"},pl={class:"col-md-6"},_l={class:"row"},yl={class:"col-md-6"},gl={class:"col-md-6"},fl={key:0},xl={class:"modal fade",id:"addDriverModal",tabindex:"-1"},wl={class:"modal-dialog"},Dl={class:"modal-content"},Cl={class:"modal-body"},hl={class:"mb-3"},kl={class:"mb-3"},Ll={class:"mb-3"},Vl={class:"mb-3"},Bl={class:"mb-3"},Nl={class:"mb-3"},Al={__name:"Drivers",setup(Ml){const r=p(""),b=p(""),a=p(null),c=p([{id:1,name:"Mike Johnson",email:"mike@example.com",phone:"+254723456789",license_number:"DL123456789",vehicle_type:"Motorcycle",vehicle_plate:"KBA 123A",is_available:!0,current_location:"Westlands, Nairobi",total_deliveries:156,completed_today:8,rating:4.8,customer_rating:4.9,on_time_rate:95,total_earnings:12500},{id:2,name:"Sarah Wilson",email:"sarah@example.com",phone:"+254734567890",license_number:"DL987654321",vehicle_type:"Van",vehicle_plate:"KBB 456B",is_available:!1,current_location:"CBD, Nairobi",total_deliveries:89,completed_today:5,rating:4.6,customer_rating:4.7,on_time_rate:92,total_earnings:8900},{id:3,name:"David Brown",email:"david@example.com",phone:"+254745678901",license_number:"DL456789123",vehicle_type:"Bicycle",vehicle_plate:"KBC 789C",is_available:!0,current_location:"Eastlands, Nairobi",total_deliveries:203,completed_today:12,rating:4.9,customer_rating:4.8,on_time_rate:97,total_earnings:6800}]),n=p({name:"",email:"",phone:"",license_number:"",vehicle_type:"",vehicle_plate:""}),g=B(()=>{let o=c.value;return r.value&&(o=o.filter(e=>e.name.toLowerCase().includes(r.value.toLowerCase())||e.email.toLowerCase().includes(r.value.toLowerCase())||e.phone.includes(r.value)||e.vehicle_plate.toLowerCase().includes(r.value.toLowerCase()))),b.value&&(b.value==="available"?o=o.filter(e=>e.is_available):b.value==="busy"&&(o=o.filter(e=>!e.is_available))),o}),f=o=>o?"bg-success":"bg-warning",C=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"KES"}).format(o),h=o=>{a.value=c.value.find(e=>e.id===o),alert(`Viewing driver: ${a.value.name}`)},k=o=>{alert(`Editing driver: ${o}`)},L=o=>{const e=c.value.find(t=>t.id===o);e&&(e.is_available=!e.is_available,alert(`Driver ${e.name} is now ${e.is_available?"available":"busy"}`))},x=()=>{const o={id:c.value.length+1,...n.value,is_available:!0,current_location:"",total_deliveries:0,completed_today:0,rating:5,customer_rating:5,on_time_rate:100,total_earnings:0};c.value.unshift(o),n.value={name:"",email:"",phone:"",license_number:"",vehicle_type:"",vehicle_plate:""},alert("Driver added successfully!")},V=()=>{alert("Exporting drivers to CSV...")};return N(()=>{console.log("Loading drivers...")}),(o,e)=>(v(),u(D,null,[l("div",{class:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[e[9]||(e[9]=l("h1",{class:"h2"},"Drivers",-1)),l("div",{class:"btn-toolbar mb-2 mb-md-0"},[l("div",{class:"btn-group me-2"},[l("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:V}," Export ")]),e[8]||(e[8]=l("button",{type:"button",class:"btn btn-sm btn-primary","data-bs-toggle":"modal","data-bs-target":"#addDriverModal"}," Add Driver ",-1))])]),l("div",U,[l("div",T,[d(l("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),type:"text",class:"form-control",placeholder:"Search drivers..."},null,512),[[m,r.value]])]),l("div",$,[d(l("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>b.value=t),class:"form-select"},[...e[10]||(e[10]=[l("option",{value:""},"All Status",-1),l("option",{value:"available"},"Available",-1),l("option",{value:"busy"},"Busy",-1),l("option",{value:"offline"},"Offline",-1)])],512),[[A,b.value]])])]),l("div",q,[(v(!0),u(D,null,M(g.value,t=>(v(),u("div",{class:"col-md-3 mb-3",key:t.id},[l("div",P,[l("div",I,[l("div",K,[l("h5",F,s(t.name),1),l("span",{class:y(["badge",f(t.is_available)])},s(t.is_available?"Available":"Busy"),3)]),l("div",R,[l("small",j," ðŸ“ž "+s(t.phone),1)]),l("div",J,[l("small",O," ðŸ“§ "+s(t.email),1)]),l("div",W,[l("small",z," ðŸšš "+s(t.vehicle_type)+" - "+s(t.vehicle_plate),1)]),l("div",H,[l("small",Q," ðŸ†” License: "+s(t.license_number),1)]),e[15]||(e[15]=l("hr",null,null,-1)),l("div",G,[l("div",X,[l("strong",Y,s(t.total_deliveries),1),e[11]||(e[11]=l("br",null,null,-1)),e[12]||(e[12]=l("small",{class:"text-muted"},"Deliveries",-1))]),l("div",Z,[l("strong",ll,s(t.rating)+"/5",1),e[13]||(e[13]=l("br",null,null,-1)),e[14]||(e[14]=l("small",{class:"text-muted"},"Rating",-1))])]),t.current_location?(v(),u("div",el,[l("small",tl," ðŸ“ "+s(t.current_location),1)])):_("",!0)]),l("div",sl,[l("div",ol,[l("button",{class:"btn btn-sm btn-outline-primary",onClick:w=>h(t.id)}," View ",8,al),l("button",{class:"btn btn-sm btn-outline-secondary",onClick:w=>k(t.id)}," Edit ",8,nl),l("button",{class:y(["btn btn-sm",t.is_available?"btn-outline-warning":"btn-outline-success"]),onClick:w=>L(t.id)},s(t.is_available?"Mark Busy":"Mark Available"),11,il)])])])]))),128))]),g.value.length===0?(v(),u("div",dl,[...e[16]||(e[16]=[l("h4",{class:"text-muted"},"No drivers found",-1)])])):_("",!0),l("div",rl,[l("div",ul,[l("div",ml,[e[35]||(e[35]=l("div",{class:"modal-header"},[l("h5",{class:"modal-title"},"Driver Details"),l("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),a.value?(v(),u("div",vl,[l("div",bl,[l("div",cl,[e[21]||(e[21]=l("h6",null,"Personal Information",-1)),l("p",null,[e[17]||(e[17]=l("strong",null,"Name:",-1)),i(" "+s(a.value.name),1)]),l("p",null,[e[18]||(e[18]=l("strong",null,"Email:",-1)),i(" "+s(a.value.email),1)]),l("p",null,[e[19]||(e[19]=l("strong",null,"Phone:",-1)),i(" "+s(a.value.phone),1)]),l("p",null,[e[20]||(e[20]=l("strong",null,"License Number:",-1)),i(" "+s(a.value.license_number),1)])]),l("div",pl,[e[25]||(e[25]=l("h6",null,"Vehicle Information",-1)),l("p",null,[e[22]||(e[22]=l("strong",null,"Vehicle Type:",-1)),i(" "+s(a.value.vehicle_type),1)]),l("p",null,[e[23]||(e[23]=l("strong",null,"License Plate:",-1)),i(" "+s(a.value.vehicle_plate),1)]),l("p",null,[e[24]||(e[24]=l("strong",null,"Status:",-1)),l("span",{class:y(["badge",f(a.value.is_available)])},s(a.value.is_available?"Available":"Busy"),3)])])]),l("div",_l,[l("div",yl,[e[29]||(e[29]=l("h6",null,"Statistics",-1)),l("p",null,[e[26]||(e[26]=l("strong",null,"Total Deliveries:",-1)),i(" "+s(a.value.total_deliveries),1)]),l("p",null,[e[27]||(e[27]=l("strong",null,"Completed Today:",-1)),i(" "+s(a.value.completed_today),1)]),l("p",null,[e[28]||(e[28]=l("strong",null,"Rating:",-1)),i(" "+s(a.value.rating)+"/5",1)])]),l("div",gl,[e[33]||(e[33]=l("h6",null,"Performance",-1)),l("p",null,[e[30]||(e[30]=l("strong",null,"On-time Rate:",-1)),i(" "+s(a.value.on_time_rate)+"%",1)]),l("p",null,[e[31]||(e[31]=l("strong",null,"Customer Rating:",-1)),i(" "+s(a.value.customer_rating)+"/5",1)]),l("p",null,[e[32]||(e[32]=l("strong",null,"Total Earnings:",-1)),i(" "+s(C(a.value.total_earnings)),1)])])]),a.value.current_location?(v(),u("div",fl,[e[34]||(e[34]=l("h6",null,"Current Location",-1)),l("p",null,s(a.value.current_location),1)])):_("",!0)])):_("",!0),e[36]||(e[36]=l("div",{class:"modal-footer"},[l("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])]),l("div",xl,[l("div",wl,[l("div",Dl,[e[44]||(e[44]=l("div",{class:"modal-header"},[l("h5",{class:"modal-title"},"Add New Driver"),l("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),l("div",Cl,[l("form",{onSubmit:S(x,["prevent"])},[l("div",hl,[e[37]||(e[37]=l("label",{class:"form-label"},"Name",-1)),d(l("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>n.value.name=t),type:"text",class:"form-control",required:""},null,512),[[m,n.value.name]])]),l("div",kl,[e[38]||(e[38]=l("label",{class:"form-label"},"Email",-1)),d(l("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>n.value.email=t),type:"email",class:"form-control",required:""},null,512),[[m,n.value.email]])]),l("div",Ll,[e[39]||(e[39]=l("label",{class:"form-label"},"Phone",-1)),d(l("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>n.value.phone=t),type:"tel",class:"form-control",required:""},null,512),[[m,n.value.phone]])]),l("div",Vl,[e[40]||(e[40]=l("label",{class:"form-label"},"License Number",-1)),d(l("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>n.value.license_number=t),type:"text",class:"form-control",required:""},null,512),[[m,n.value.license_number]])]),l("div",Bl,[e[41]||(e[41]=l("label",{class:"form-label"},"Vehicle Type",-1)),d(l("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>n.value.vehicle_type=t),type:"text",class:"form-control",required:""},null,512),[[m,n.value.vehicle_type]])]),l("div",Nl,[e[42]||(e[42]=l("label",{class:"form-label"},"License Plate",-1)),d(l("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>n.value.vehicle_plate=t),type:"text",class:"form-control",required:""},null,512),[[m,n.value.vehicle_plate]])])],32)]),l("div",{class:"modal-footer"},[e[43]||(e[43]=l("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1)),l("button",{type:"button",class:"btn btn-primary",onClick:x,"data-bs-dismiss":"modal"}," Add Driver ")])])])])],64))}},Tl=E(Al,[["__scopeId","data-v-70247453"]]);export{Tl as default};

import{r as n,e as l,i,f as e,h as p,K as w,L as d,M as v,O as y,j as b,H as x,w as k,g as h,u as C,o as m}from"./vendor-CVqOb0XR.js";import{_ as L,u as V}from"./index-Ba6kPx5P.js";import{C as A,a as M}from"./CommonFooter-B2JgU46h.js";import"./ui-D_DTyfBr.js";const N={class:"container",style:{"margin-top":"100px"}},S={class:"row justify-content-center"},U={class:"col-md-6"},B={class:"card"},j={class:"card-body"},q={class:"mb-3"},D={class:"mb-3"},H={class:"mb-3 form-check"},P=["disabled"],R={key:0,class:"spinner-border spinner-border-sm",role:"status"},T={key:0,class:"alert alert-danger mt-3"},E={class:"mt-3 text-center"},F={__name:"Login",setup(I){const f=C(),u=V(),o=n({username:"",password:"",remember:!1}),r=n(!1),a=n(""),_=async()=>{try{r.value=!0,a.value="",await u.login({username:o.value.username,password:o.value.password}),f.push("/admin")}catch(c){a.value=u.error||"Login failed. Please try again.",console.error("Login error:",c)}finally{r.value=!1}};return(c,s)=>{const g=h("router-link");return m(),l("div",null,[i(A),e("div",N,[e("div",S,[e("div",U,[e("div",B,[s[8]||(s[8]=e("div",{class:"card-header"},[e("h3",{class:"text-center"},"Admin Login")],-1)),e("div",j,[e("form",{onSubmit:w(_,["prevent"])},[e("div",q,[s[3]||(s[3]=e("label",{for:"username",class:"form-label"},"Username",-1)),d(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.value.username=t),type:"text",class:"form-control",id:"username",required:""},null,512),[[v,o.value.username]])]),e("div",D,[s[4]||(s[4]=e("label",{for:"password",class:"form-label"},"Password",-1)),d(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o.value.password=t),type:"password",class:"form-control",id:"password",required:""},null,512),[[v,o.value.password]])]),e("div",H,[d(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>o.value.remember=t),type:"checkbox",class:"form-check-input",id:"remember"},null,512),[[y,o.value.remember]]),s[5]||(s[5]=e("label",{class:"form-check-label",for:"remember"}," Remember me ",-1))]),e("button",{type:"submit",class:"btn btn-primary w-100",disabled:r.value},[r.value?(m(),l("span",R)):p("",!0),s[6]||(s[6]=b(" Login ",-1))],8,P)],32),a.value?(m(),l("div",T,x(a.value),1)):p("",!0),e("div",E,[i(g,{to:"/customer-login",class:"text-decoration-none"},{default:k(()=>[...s[7]||(s[7]=[b(" Customer Login ",-1)])]),_:1})])])])])]),i(M)])])}}},J=L(F,[["__scopeId","data-v-e845225b"]]);export{J as default};
